<template>
    <require from="style.css"></require>
    <select style.bind="getRouteStyle(currentRoute.shortName)" if.bind="routes" value.bind="selectedRoute">
        <option model.bind="undefined">Choose...</option>
        <option style.bind="getRouteStyle(route.shortName)" repeat.for="route of routes" model.bind="route">
                ${route.shortName} - ${route.longName}
        </option>
    </select>
    <select style.bind="getRouteStyle(currentRoute.shortName)" if.bind="stops" value.bind="selectedStop">
        <option model.bind="undefined">Choose...</option>
        <option repeat.for="stop of stops.data" model.bind="stop">
            ${stop.stopDescription}(${stop.stopId})
        </option>
    </select>
    <div if.bind="notCurrentlyRequesting">Estimates</div>
    <div if.bind="!notCurrentlyRequesting">Estimates Refreshing...</div>
    <div if.bind="currentStopInfo">Estimates are ${timeSinceLastDataTimestamp} seconds old</div>
    <div class="arrival" if.bind="currentStopInfo" repeat.for="arriving of currentStopInfo.data">
        <span style.bind="getRouteStyle(arriving.routeShortName)" class="arrivalText" innerhtml.bind="arrivalText(arriving)"></span>
    </div>
</template>